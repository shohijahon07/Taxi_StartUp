import{u,a as h,b as p,j as e,Q as m,s as i,c as g,d as n,e as f,B as r}from"./index-DS68Yy_c.js";import{P as x}from"./lib-D5coCdRK.js";import"./vendor-cPKpM4Zg.js";function k(){const s=u(),{user:o,loading:c,showPassword:t}=h(a=>a.pessenger),l=p();function d(){o.phoneNumber!==""&&o.password!==""?(s(n(!0)),f("/auth/login","POST",o).then(a=>{s(n(!1)),a.data?(localStorage.setItem("access_token",a.data.access_token),localStorage.setItem("refresh_token",a.data.refresh_token),s(i({phoneNumber:"",password:""})),a.data.role==="ROLE_ADMIN"?l("/bosh_sahifa"):a.data.role==="ROLE_DRIVER"&&l("/yo'nalish")):r.error("Yaroqsiz parol yoki yaroqsiz username.")}).catch(()=>{s(n(!1)),r.error("Tizimga kirishda xatolik yuz berdi.")})):r.warning("Iltimos, barcha maydonlarni toʻldiring.")}return e.jsx("div",{className:"big_mean",children:e.jsxs("div",{className:"card1",children:[e.jsx(m,{toastStyle:{backgroundColor:"white",color:"black"},autoClose:1e3}),e.jsx("h1",{children:"Login"}),e.jsx("div",{className:"input-field",children:e.jsx(x,{inputClass:"input-field",country:"uz",onChange:a=>s(i({...o,phoneNumber:"+"+a})),value:o.phoneNumber})}),e.jsxs("div",{className:"input-field",children:[e.jsx("input",{onChange:a=>s(i({...o,password:a.target.value})),value:o.password,placeholder:"Parol...",type:t?"text":"password"}),e.jsx("span",{className:"eye-icon",onClick:()=>s(g(!t)),children:t?"🙈":"👁️"})]}),e.jsx("button",{onClick:d,className:"buttonS",children:c?"Loading...":"Login to your Account!"})]})})}export{k as default};
//# sourceMappingURL=Login-BCHUcrWW.js.map
